#+TITLE: 内核源码笔记之 blk_mq_submit_bio.org
* blk_queue_bounce
* FLEETING 为什么需要 ~blk_queue_bounce~?
:LOGBOOK:
CLOCK: [2023-08-06 Sun 13:36]--[2023-08-06 Sun 13:36] =>  0:00
:END:
要理解这个概念，需要理解 bouce buffer.
* FLEETING 为什么需要 ~__blk_queue_split~?
:LOGBOOK:
CLOCK: [2023-08-06 Sun 13:36]--[2023-08-06 Sun 13:36] =>  0:00
:END:
因为有 limits.max_sectors 和 limits.max_segments 的限制。

由此产生一个新的问题：bio 在什么时候决定自己需要多少 sectors 和 segments?

一篇相关的 blog: http://oliveryang.net/2016/10/linux-block-driver-basic-5/
* bio_integrity_prep
检查数据完整性。
